(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,n,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(85)}])},85:function(e,n,l){"use strict";l.r(n);var t=l(5893),o=l(7294),a=l(2729),r=l.n(a);n.default=()=>{let e=[[0,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0],[0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,0]],[n,l]=(0,o.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a=[[-1,0],[0,1],[1,0],[0,-1]],[i,s]=(0,o.useState)({x:0,y:0,forward:[1,0]}),c=()=>{let n=JSON.parse(JSON.stringify(e));s({x:0,y:0,forward:[1,0]}),console.log("initialmap"),console.table(n),n.map((e,l)=>{e.map((e,t)=>{if(1===n[l][t]){let e=Math.floor(Math.random()*a.length),[o,r]=a[e];n[l+o][t+r]=2}})}),l(n),console.log("secoundmap"),console.table(n);let t=JSON.parse(JSON.stringify(n));t.map((e,n)=>{e.map((e,l)=>{2===e&&(t[n][l]=1)})}),l(t),console.log("map"),console.table(t)},_=()=>{let{x:e,y:n,forward:l}=i,[t,o]=l,a=e,r=n,c=l;1===t?c=[o,t]:1===o?c=[-o,t]:-1===t?c=[o,t]:-1===o&&(c=[-o,t]),s({x:a,y:r,forward:c}),s({x:a=e+c[0],y:r=n+c[1],forward:c}),console.log(i)},d=()=>{h(),console.log(i)},g=()=>{let{x:e,y:n,forward:l}=i,[t,o]=l;s({...i,x:e+t,y:n+o})},u=()=>{let{forward:e}=i,[n,l]=e,t=e;1===n?t=[l,-n]:-1===l?t=[l,n]:-1===n?t=[l,-n]:1===l&&(t=[l,n]),s({...i,forward:t})},h=()=>{let{x:e,y:l,forward:t}=i;if(e===n.length-1&&l===n[0].length-1){alert("ゴールしました！新しい迷路を生成します。"),c();return}let[o,a]=t,r=e,s=l,d=t,h=e+t[0],f=l+t[1];1===o?d=[a,o]:1===a?d=[-a,o]:-1===o?d=[a,o]:-1===a&&(d=[-a,o]),r=e+d[0],s=l+d[1],r>=0&&r<n.length&&s>=0&&s<n[0].length&&0===n[r][s]&&void 0!==n[r][s]?(_(),console.log("leftside"),console.log(s,r)):h>=0&&h<n.length&&f>=0&&f<n[0].length&&0===n[h][f]&&void 0!==n[h][f]?(g(),console.log("goside")):(u(),console.log("rightside"))},[f,x]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{if(f){let e=setInterval(()=>{h(),i.x===n.length-1&&i.y===n[0].length-1&&x(!1)},100);return()=>{clearInterval(e)}}}),(0,t.jsxs)("div",{className:r().container,children:[(0,t.jsx)("button",{className:r().generate,onClick:()=>c(),children:"生成"}),(0,t.jsx)("button",{className:r().search,onClick:()=>d(),children:"探索"}),(0,t.jsx)("button",{className:r().search,onClick:()=>x(!0),children:"自動探索"}),(0,t.jsx)("div",{className:r().board,style:{backgroundColor:"#000"},children:n.map((e,n)=>e.map((e,l)=>(0,t.jsx)("div",{className:r().cell,style:{backgroundColor:0===e?"#fff":"#000"},children:i.x===n&&i.y===l&&(0,t.jsx)("div",{className:r().position},"".concat(i.x,"- ").concat(i.y))},"".concat(n,"-").concat(l))))})]})}},2729:function(e){e.exports={container:"index_container___q52_",board:"index_board__dNO5V",cell:"index_cell__E8qMc",generate:"index_generate__FH8WJ",search:"index_search__tDBud",position:"index_position__IbWq7",triangle:"index_triangle__4jdhH","triangle-up":"index_triangle-up__6KWxX","triangle-down":"index_triangle-down__2wRJw","triangle-right":"index_triangle-right__7rXLH","triangle-left":"index_triangle-left__0CnRa"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);